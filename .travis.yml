sudo: required
language: python
services:
  - docker
python:
  - '3.4'
  - '3.5'
  - '3.6-dev'
install:
  - python setup.py install
  - pip install -Ur requirements.txt
  - pip install codecov
script:
  - make cov-ci
  - python setup.py check -ms
env:
  global:
    - PYTHON=python
  matrix:
    - PYTHONASYNCIODEBUG=x
    - PYTHONASYNCIODEBUG=
cache:
  directories:
    - "$HOME/.cache/pip"
before_cache:
  - rm -f $HOME/.cache/pip/log/debug.log
after_script:
  - codecov
deploy:
  provider: pypi
  user: virmir49
  password:
    secure: "yFRF0kpPFx2Dmu9n9t58Y8CmwvQ6WVaTsysZf43CQ7ME7P5O/QZUJhtcQ/IEmmHz8MbMBnOjoAW7iibkIuS72OtrRSFDbJhM/Y5ktpeBpZD8yiZCjA0hXzqTxIt/1eGYqBEY8KUl1Taf29dX6mXjRbhxECdzTohjGmA//DKBTqceQUOd2JnREEb10S00T1YNrXaiUAawOs1h8fR1USkpB4OskcyiThPKsvLTXQKcysnO5FfnZwTCxnYrhq1NGTCULftBzpfh19JWU/DInveLBuIq+bauIcJISEzKWq0D41TGfdSMXm7PLQUe9KxvEuOchXpP1cRzvCgQ8H+UNIVtyb0h72R2rWRU9TKIbk0RSgbeBxrHZVhQgUhF/z/ml7s4DEi3P6QNm0zq3S5ECOnOLV9kVQjejbrFZHtSrW8Xtb4kvhmX7j+Z2n4yCGe+X9FkkArX7pAbjV9uR9iNGLIyeFKz7LOl2gfkYgKpYE+K7Atr6LU67w6vnY+wf4mEIn99rqf7O9TBezf+wLoh2t25Zy81S1AU51xERAti/IuL9nlq4AfOf4eTdsUztEc2GKX7MNetL2Sd0JmV06MX81OAlf6mDv0hgmnZX9Z1ns9T9gQyJNhdHiqbgmh3HLsD+/CWNsDfmj8a2eEX04mi8iDvElz7eobR6TIkadmPEWFnkpw="
  distributions: sdist bdist_wheel
  on:
    tags: true
    all_branches: true
    python: 3.5
